(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-details-details"],{"048e":function(t,e,a){var i=a("98d9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("03bff49a",i,!0,{sourceMap:!1,shadowMode:!1})},"06c5":function(t,e,a){"use strict";a("a630"),a("fb6a"),a("d3b7"),a("25f0"),a("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(a("6b75"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t){if("string"===typeof t)return(0,i.default)(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,i.default)(t,e):void 0}}},"1bc8":function(t,e,a){"use strict";function i(t){if(0===t.indexOf("_www")||0===t.indexOf("_doc")||0===t.indexOf("_documents")||0===t.indexOf("_downloads"))return t;if(0===t.indexOf("file://"))return t;if(0===t.indexOf("/storage/emulated/0/"))return t;if(0===t.indexOf("/")){var e=plus.io.convertAbsoluteFileSystem(t);if(e!==t)return e;t=t.substr(1)}return"_www/"+t}function n(t){return new Promise((function(e,a){if("object"===typeof window&&"document"in window){if("function"===typeof FileReader){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="blob",n.onload=function(){if(200===this.status){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=a,t.readAsDataURL(this.response)}},n.onerror=a,void n.send()}var r=document.createElement("canvas"),o=r.getContext("2d"),s=new Image;return s.onload=function(){r.width=s.width,r.height=s.height,o.drawImage(s,0,0),e(r.toDataURL()),r.height=r.width=0},s.onerror=a,void(s.src=t)}"object"!==typeof plus?"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){e("data:image/png;base64,"+t.data)},fail:function(t){a(t)}}):a(new Error("not support")):plus.io.resolveLocalFileSystemURL(i(t),(function(t){t.file((function(t){var i=new plus.io.FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){a(t)},i.readAsDataURL(t)}),(function(t){a(t)}))}),(function(t){a(t)}))}))}function r(t){return new Promise((function(e,a){if("object"===typeof window&&"document"in window){t=t.split(",");var i=t[0].match(/:(.*?);/)[1],n=atob(t[1]),r=n.length,o=new Uint8Array(r);while(r--)o[r]=n.charCodeAt(r);return e((window.URL||window.webkitURL).createObjectURL(new Blob([o],{type:i})))}var s=t.match(/data\:\S+\/(\S+);/);s?s=s[1]:a(new Error("base64 error"));var l=Date.now()+"."+s;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){var u=wx.env.USER_DATA_PATH+"/"+l;wx.getFileSystemManager().writeFile({filePath:u,data:t.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){e(u)},fail:function(t){a(t)}})}else a(new Error("not support"));else{var c=new plus.nativeObj.Bitmap("bitmap"+Date.now());c.loadBase64Data(t,(function(){var t="_doc/uniapp_temp/"+l;c.save(t,{},(function(){c.clear(),e(t)}),(function(t){c.clear(),a(t)}))}),(function(t){c.clear(),a(t)}))}}))}a("c975"),a("ace4"),a("d3b7"),a("ac1f"),a("3ca3"),a("466d"),a("5319"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d"),Object.defineProperty(e,"__esModule",{value:!0}),e.pathToBase64=n,e.base64ToPath=r},"1da1":function(t,e,a){"use strict";function i(t,e,a,i,n,r,o){try{var s=t[r](o),l=s.value}catch(u){return void a(u)}s.done?e(l):Promise.resolve(l).then(i,n)}function n(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(t){i(o,n,r,s,l,"next",t)}function l(t){i(o,n,r,s,l,"throw",t)}s(void 0)}))}}a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},2145:function(t,e,a){t.exports=a.p+"static/img/loading.79a1a107.gif"},2909:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=s(a("6005")),n=s(a("db90")),r=s(a("06c5")),o=s(a("3427"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,i.default)(t)||(0,n.default)(t)||(0,r.default)(t)||(0,o.default)()}},3427:function(t,e,a){"use strict";function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},3495:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("cb29"),a("4160"),a("4e82"),a("a9e3"),a("b680"),a("542d"),a("d3b7"),a("ac1f"),a("1276"),a("498a"),a("159b");var n=i(a("2909")),r=i(a("5530"));a("96cf");var o=i(a("1da1")),s=i(a("eb04")),l=i(a("4829")),u=a("1bc8"),c="QSSHAREPOSTER_IDKEY",d=1;function f(t){var e=t.type,a=t.formData,i=t.background,l=t.posterCanvasId,u=t.backgroundImage,f=t.reserve,h=t.textArray,m=t.drawArray,p=t.qrCodeArray,b=t.imagesArray,w=t.setCanvasWH,y=t.setCanvasToTempFilePath,x=t.canvas2image,k=t.setDraw,P=t.bgScale,C=t.Context,N=t._this,S=t.delayTimeScale,T=t.drawDelayTime;return new Promise(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(o,A){var I,L,F,j,z,O,D,R,q,B,M,H,J;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,s.default.showLoading("正在准备海报数据"),C||(s.default.log("没有画布对象,创建画布对象"),C=uni.createCanvasContext(l,N||null)),!(i&&i.width&&i.height)){t.next=7;break}I=i,t.next=10;break;case 7:return t.next=9,E({backgroundImage:u,type:e,formData:a});case 9:I=t.sent;case 10:if(P=P||d,I.width=I.width*P,I.height=I.height*P,s.default.log("获取背景图信息对象成功:"+JSON.stringify(I)),L={bgObj:I,type:e,bgScale:P,getBgObj:function(){return L.bgObj},setBgObj:function(t){var e=(0,r.default)((0,r.default)({},L.bgObj),t);L.bgObj=e,I=e}},!b){t.next=23;break}return"function"==typeof b&&(b=b(L)),s.default.showLoading("正在生成需绘制图片的临时路径"),s.default.log("准备设置图片"),t.next=21,_(b);case 21:b=t.sent,s.default.hideLoading();case 23:if(h&&("function"==typeof h&&(h=h(L)),h=v(C,h)),!p){t.next=38;break}"function"==typeof p&&(p=p(L)),s.default.showLoading("正在生成需绘制图片的临时路径"),F=0;case 28:if(!(F<p.length)){t.next=37;break}if(s.default.log(F),!p[F].image){t.next=34;break}return t.next=33,s.default.downloadFile_PromiseFc(p[F].image);case 33:p[F].image=t.sent;case 34:F++,t.next=28;break;case 37:s.default.hideLoading();case 38:if(!m){t.next=99;break}if("function"==typeof m&&(m=m(L)),!s.default.isPromise(m)){t.next=44;break}return t.next=43,m;case 43:m=t.sent;case 44:if(!(s.default.isArray(m)&&m.length>0)){t.next=99;break}j=!1,z=0;case 47:if(!(z<m.length)){t.next=79;break}O=m[z],s.default.isFn(O.allInfoCallback)&&!j&&(j=!0),O[c]=z,D=void 0,t.t0=O.type,t.next="image"===t.t0?55:"text"===t.t0?59:"qrcode"===t.t0?61:"custom"===t.t0?67:"fillrect"===t.t0?68:"strokeRect"===t.t0?69:"roundStrokeRect"===t.t0?70:"roundFillRect"===t.t0?71:72;break;case 55:return t.next=57,_(O);case 57:return D=t.sent,t.abrupt("break",74);case 59:return D=v(C,O),t.abrupt("break",74);case 61:if(!O.image){t.next=66;break}return t.next=64,s.default.downloadFile_PromiseFc(O.image);case 64:t.t1=t.sent,D={image:t.t1};case 66:return t.abrupt("break",74);case 67:return t.abrupt("break",74);case 68:return t.abrupt("break",74);case 69:return t.abrupt("break",74);case 70:return t.abrupt("break",74);case 71:return t.abrupt("break",74);case 72:return s.default.log("未识别的类型"),t.abrupt("break",74);case 74:D&&s.default.isObject(D)&&(m[z]=(0,r.default)((0,r.default)({},O),D));case 76:z++,t.next=47;break;case 79:if(!j){t.next=99;break}s.default.log("----------------hasAllInfoCallback----------------"),R=(0,n.default)(m),R.sort((function(t,e){var a=s.default.isUndef(t.serialNum)||s.default.isNull(t.serialNum)?Number.NEGATIVE_INFINITY:Number(t.serialNum),i=s.default.isUndef(e.serialNum)||s.default.isNull(e.serialNum)?Number.NEGATIVE_INFINITY:Number(e.serialNum);return a-i})),s.default.log("开始for循环"),q=0;case 85:if(!(q<R.length)){t.next=98;break}if(B=(0,r.default)({},R[q]),!s.default.isFn(B.allInfoCallback)){t.next=95;break}if(M=B.allInfoCallback({drawArray:m}),!s.default.isPromise(M)){t.next=93;break}return t.next=92,M;case 92:M=t.sent;case 93:H=B[c],s.default.isUndef(H)?console.log("程序错误 找不到idKey!!!\t...这不应该啊"):m[B[c]]=(0,r.default)((0,r.default)({},B),M);case 95:q++,t.next=85;break;case 98:s.default.log("for循环结束");case 99:if(console.log("params:"+JSON.stringify(L)),!w||"function"!=typeof w){t.next=103;break}return t.next=103,new Promise((function(t,e){w(L),setTimeout((function(){t()}),50)}));case 103:return t.next=105,g({Context:C,type:e,posterCanvasId:l,reserve:f,drawArray:m,textArray:h,imagesArray:b,bgObj:I,qrCodeArray:p,setCanvasToTempFilePath:y,setDraw:k,bgScale:P,_this:N,delayTimeScale:S,drawDelayTime:T,canvas2image:x});case 105:J=t.sent,s.default.hideLoading(),o({bgObj:I,poster:J,type:e}),t.next=113;break;case 110:t.prev=110,t.t2=t["catch"](0),A(t.t2);case 113:case"end":return t.stop()}}),t,null,[[0,110]])})));return function(e,a){return t.apply(this,arguments)}}())}function g(t){var e=t.Context,a=t.type,i=t.posterCanvasId,n=t.reserve,o=t.bgObj,l=t.drawArray,u=t.textArray,c=t.qrCodeArray,d=t.imagesArray,f=t.setCanvasToTempFilePath,g=t.setDraw,v=t.bgScale,w=t._this,y=t.delayTimeScale,x=t.drawDelayTime,_=t.canvas2image,k={Context:e,bgObj:o,type:a,bgScale:v};return y=void 0!==y?y:15,x=void 0!==x?x:100,new Promise((function(t,v){try{if(s.default.showLoading("正在绘制海报"),s.default.log("背景对象:"+JSON.stringify(o)),o&&o.path?(s.default.log("背景有图片路径"),e.drawImage(o.path,0,0,o.width,o.height)):(s.default.log("背景没有图片路径"),o.backgroundColor?(s.default.log("背景有背景颜色:"+o.backgroundColor),e.setFillStyle(o.backgroundColor),e.fillRect(0,0,o.width,o.height)):s.default.log("背景没有背景颜色")),s.default.showLoading("绘制图片"),d&&d.length>0&&A(e,d),s.default.showLoading("绘制自定义内容"),g&&"function"==typeof g&&g(k),s.default.showLoading("绘制文本"),u&&u.length>0&&C(e,u,o),s.default.showLoading("绘制二维码"),c&&c.length>0)for(var P=0;P<c.length;P++)O(e,c[P]);if(s.default.showLoading("绘制可控层级序列"),l&&l.length>0)for(var N=0;N<l.length;N++){var S=l[N];switch(s.default.log("绘制可控层级序列, drawArrayItem:"+JSON.stringify(S)),S.type){case"image":s.default.log("绘制可控层级序列, 绘制图片"),A(e,S);break;case"text":s.default.log("绘制可控层级序列, 绘制文本"),C(e,S,o);break;case"qrcode":s.default.log("绘制可控层级序列, 绘制二维码"),O(e,S);break;case"custom":s.default.log("绘制可控层级序列, 绘制自定义内容"),S.setDraw&&"function"===typeof S.setDraw&&S.setDraw(e);break;case"fillRect":s.default.log("绘制可控层级序列, 绘制填充直角矩形"),h(e,S);break;case"strokeRect":s.default.log("绘制可控层级序列, 绘制线条直角矩形"),m(e,S);break;case"roundStrokeRect":s.default.log("绘制可控层级序列, 绘制线条圆角矩形"),p(e,S);break;case"roundFillRect":s.default.log("绘制可控层级序列, 绘制填充圆角矩形"),b(e,S);break;default:s.default.log("未识别的类型");break}}s.default.showLoading("绘制中"),setTimeout((function(){s.default.log("准备执行draw方法"),s.default.log("Context:"+e);var g=function(){var e,n=f||{};n&&"function"==typeof n&&(n=f(o,a));uni.getSystemInfoSync().pixelRatio;var g=(0,r.default)((0,r.default)({quality:.8,fileType:"jpg"},n),{},{canvasId:i});if(!1===_)return s.default.hideLoading(),t({setCanvasToTempFilePath:g});s.default.showLoading("正在输出图片"),console.log("canvasToTempFilePath的data对象:"+JSON.stringify(g)),e=function(){var e=(0,r.default)((0,r.default)({},g),{},{success:function(e){s.default.hideLoading(),t((0,r.default)((0,r.default)({},e),{},{setCanvasToTempFilePath:g}))},fail:function(t){s.default.hideLoading(),console.log("输出图片失败"),s.default.log("输出图片失败:"+JSON.stringify(t)),v("输出图片失败:"+JSON.stringify(t))}});uni.canvasToTempFilePath(e,w||null)};var h=0;c&&c.forEach((function(t){t.text&&(h+=Number(t.text.length))})),d&&d.forEach((function(){h+=y})),u&&u.forEach((function(){h+=y})),l&&l.forEach((function(t){switch(t.type){case"text":t.text&&(h+=t.text.length);break;case"qrcode":t.text&&(h+=2*t.text.length);break;default:h+=y;break}})),s.default.log("延时系数:"+y),s.default.log("总计延时:"+h),setTimeout(e,h)};e.draw("boolean"==typeof n&&n,g)}),x)}catch(T){s.default.hideLoading(),v(T)}}))}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.default.log("进入绘制填充直角矩形方法, drawArrayItem:"+JSON.stringify(e)),t.setFillStyle(e.backgroundColor||"black"),t.setGlobalAlpha(e.alpha||1),t.fillRect(e.dx||0,e.dy||0,e.width||0,e.height||0),t.setGlobalAlpha(1)}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.setStrokeStyle(e.color||"black"),t.setLineWidth(e.lineWidth||1),t.strokeRect(e.dx,e.dy,e.width,e.height)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.dx,i=e.dy,n=e.width,r=e.height,o=e.r,s=e.lineWidth,l=e.color;o=o||.1*n,n<2*o&&(o=n/2),n<2*o&&(o=n/2),t.beginPath(),t.arc(a+o,i+o,o,1*Math.PI,1.5*Math.PI),t.lineTo(a+n-o,i),t.arc(a+n-o,i+o,o,1.5*Math.PI,0),t.lineTo(a+n,i+r-o),t.arc(a+n-o,i+r-o,o,0,.5*Math.PI),t.lineTo(a+o,i+r),t.arc(a+o,i+r-o,o,.5*Math.PI,1*Math.PI),t.lineTo(a,i+o),t.closePath(),t.setLineWidth(s||1),t.setStrokeStyle(l||"black"),t.stroke()}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.dx,i=e.dy,n=e.width,r=e.height,o=e.r,s=e.backgroundColor;o=o||.1*n,n<2*o&&(o=n/2),n<2*o&&(o=n/2),t.beginPath(),t.arc(a+o,i+o,o,1*Math.PI,1.5*Math.PI),t.lineTo(a+n-o,i),t.arc(a+n-o,i+o,o,1.5*Math.PI,0),t.lineTo(a+n,i+r-o),t.arc(a+n-o,i+r-o,o,0,.5*Math.PI),t.lineTo(a+o,i+r),t.arc(a+o,i+r-o,o,.5*Math.PI,1*Math.PI),t.lineTo(a,i+o),t.closePath(),t.setFillStyle(s),t.fill()}function v(t,e){if(s.default.log("进入设置文字方法, texts:"+JSON.stringify(e)),e&&s.default.isArray(e)){if(s.default.log("texts是数组"),e.length>0)for(var a=0;a<e.length;a++)s.default.log("字符串信息-初始化之前:"+JSON.stringify(e[a])),e[a]=w(t,e[a])}else s.default.log("texts是对象"),e=w(t,e);return s.default.log("返回texts:"+JSON.stringify(e)),e}function w(t,e){if(s.default.log("进入设置文字方法, textItem:"+JSON.stringify(e)),s.default.isNotNull_string(e.text)){e.text=String(e.text),e.alpha=void 0!==e.alpha?Number(e.alpha):1,e.color=e.color||"black",e.size=void 0!==e.size?Number(e.size):10,e.textAlign=e.textAlign||"left",e.textBaseline=e.textBaseline||"middle",e.dx=Number(e.dx)||0,e.dy=Number(e.dy)||0,e.size=Math.ceil(Number(e.size)),s.default.log("字符串信息-初始化默认值后:"+JSON.stringify(e));var a=y(t,{text:e.text,size:e.size});s.default.log("字符串信息-初始化时的文本长度:"+a);var i={};e.infoCallBack&&"function"===typeof e.infoCallBack&&(i=e.infoCallBack(a)),e=(0,r.default)((0,r.default)({},e),{},{textLength:a},i),s.default.log("字符串信息-infoCallBack后:"+JSON.stringify(e))}return e}function y(t,e){s.default.log("计算文字长度, obj:"+JSON.stringify(e));var a,i=e.text,n=e.size;t.setFontSize(n);try{a=t.measureText(i)}catch(c){a={}}if(a={},s.default.log("measureText计算文字长度, textLength:"+JSON.stringify(a)),a=a&&a.width?a.width:0,!a){for(var r=0,o=0;o<i.length;o++){var l=i.substr(o,1),u=x(l);s.default.log("计算文字宽度系数:"+u),r+=u}s.default.log("文字宽度总系数:"+r),a=r*n}return a}function x(t){var e;return e=/a/.test(t)?.552734375:/b/.test(t)?.638671875:/c/.test(t)?.50146484375:/d/.test(t)?.6396484375:/e/.test(t)?.5673828125:/f/.test(t)?.3466796875:/g/.test(t)?.6396484375:/h/.test(t)?.61572265625:/i/.test(t)?.26611328125:/j/.test(t)?.26708984375:/k/.test(t)?.54443359375:/l/.test(t)?.26611328125:/m/.test(t)?.93701171875:/n/.test(t)?.6162109375:/o/.test(t)?.6357421875:/p/.test(t)?.638671875:/q/.test(t)?.6396484375:/r/.test(t)?.3818359375:/s/.test(t)?.462890625:/t/.test(t)?.37255859375:/u/.test(t)?.6162109375:/v/.test(t)?.52490234375:/w/.test(t)?.78955078125:/x/.test(t)?.5068359375:/y/.test(t)?.529296875:/z/.test(t)?.49169921875:/A/.test(t)?.70361328125:/B/.test(t)?.62744140625:/C/.test(t)?.6689453125:/D/.test(t)?.76171875:/E/.test(t)?.5498046875:/F/.test(t)?.53125:/G/.test(t)?.74365234375:/H/.test(t)?.7734375:/I/.test(t)?.2939453125:/J/.test(t)?.39599609375:/K/.test(t)?.634765625:/L/.test(t)?.51318359375:/M/.test(t)?.97705078125:/N/.test(t)?.81298828125:/O/.test(t)?.81494140625:/P/.test(t)?.61181640625:/Q/.test(t)?.81494140625:/R/.test(t)?.65283203125:/S/.test(t)?.5771484375:/T/.test(t)?.5732421875:/U/.test(t)?.74658203125:/V/.test(t)?.67626953125:/W/.test(t)?1.017578125:/X/.test(t)?.64501953125:/Y/.test(t)?.603515625:/Z/.test(t)?.6201171875:/[0-9]/.test(t)?.58642578125:/[\u4e00-\u9fa5]/.test(t)?1:/ /.test(t)?.2958984375:/\`/.test(t)?.294921875:/\~/.test(t)?.74169921875:/\!/.test(t)?.3125:/\@/.test(t)?1.03125:/\#/.test(t)?.63818359375:/\$/.test(t)?.58642578125:/\%/.test(t)?.8896484375:/\^/.test(t)?.74169921875:/\&/.test(t)?.8701171875:/\*/.test(t)?.455078125:/\(/.test(t)||/\)/.test(t)?.333984375:/\_/.test(t)?.4482421875:/\-/.test(t)?.4326171875:/\+/.test(t)||/\=/.test(t)?.74169921875:/\|/.test(t)?.26904296875:/\\/.test(t)?.416015625:/\[/.test(t)||/\]/.test(t)?.333984375:/\;/.test(t)?.24072265625:/\'/.test(t)?.25634765625:/\,/.test(t)||/\./.test(t)?.24072265625:/\//.test(t)?.42724609375:/\{/.test(t)||/\}/.test(t)?.333984375:/\:/.test(t)?.24072265625:/\"/.test(t)?.435546875:/\</.test(t)||/\>/.test(t)?.74169921875:/\?/.test(t)?.48291015625:1,e}function _(t){return s.default.log("进入设置图片数据方法"),new Promise(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(a,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t||!s.default.isArray(t)){e.next=14;break}s.default.log("images是一个数组"),n=0;case 4:if(!(n<t.length)){e.next=12;break}return s.default.log("设置图片数据循环中:"+n),e.next=8,P(t[n]);case 8:t[n]=e.sent;case 9:n++,e.next=4;break;case 12:e.next=18;break;case 14:return s.default.log("images是一个对象"),e.next=17,P(t);case 17:t=e.sent;case 18:a(t),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),i(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,a){return e.apply(this,arguments)}}())}function k(t){var e=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)\s*$/i;return e.test(t)?(0,u.base64ToPath)(t):Promise.resolve(t)}function P(t){return new Promise(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(a,i){var n,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.url){e.next=21;break}return e.next=3,k(t.url);case 3:return t.url=e.sent,n=t.url,o=n,e.next=8,s.default.downloadFile_PromiseFc(n);case 8:return n=e.sent,t.url=n,l=t.infoCallBack&&"function"===typeof t.infoCallBack,u={},e.next=14,s.default.getImageInfo_PromiseFc(o);case 14:u=e.sent,l&&(t=(0,r.default)((0,r.default)({},t),t.infoCallBack(u))),t.dx=Number(t.dx)||0,t.dy=Number(t.dy)||0,t.dWidth=Number(t.dWidth||u.width),t.dHeight=Number(t.dHeight||u.height),t=(0,r.default)((0,r.default)({},t),{},{imageInfo:u});case 21:a(t);case 22:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}function C(t,e,a){s.default.isArray(e)?s.default.log("遍历文本方法, 是数组"):(s.default.log("遍历文本方法, 不是数组"),e=[e]),s.default.log("遍历文本方法, textArray:"+JSON.stringify(e));var i=[];if(e&&e.length>0)for(var n=0;n<e.length;n++){var o=e[n];if(o.text&&o.lineFeed){var l=-1,u=a.width,c=o.size,d=o.dx;if(s.default.isObject(o.lineFeed)){var f=o.lineFeed;l=void 0!==f.lineNum&&"number"===typeof f.lineNum&&f.lineNum>=0?f.lineNum:l,u=void 0!==f.maxWidth&&"number"===typeof f.maxWidth?f.maxWidth:u,c=void 0!==f.lineHeight&&"number"===typeof f.lineHeight?f.lineHeight:c,d=void 0!==f.dx&&"number"===typeof f.dx?f.dx:d}for(var g=o.text.split(""),h="",m=[],p=0,b=g.length;p<b;p++)y(t,{text:h,size:o.size})<=u&&y(t,{text:h+g[p],size:o.size})<=u?(h+=g[p],p==g.length-1&&m.push(h)):(m.push(h),h=g[p],p==g.length-1&&m.push(g[p]));s.default.log("循环出的文本数组:"+JSON.stringify(m));for(var v=l>=0&&l<m.length?l:m.length,w=0;w<v;w++){var x=m[w];w==v-1&&v<m.length&&(x=x.substring(0,x.length-1)+"...");var _=(0,r.default)((0,r.default)({},o),{},{text:x,dx:0===w?o.dx:d>=0?d:o.dx,dy:o.dy+w*c,textLength:y(t,{text:x,size:o.size})});s.default.log("重新组成的文本对象:"+JSON.stringify(_)),i.push(_)}}else i.push(o)}s.default.log("绘制文本新数组:"+JSON.stringify(i)),S(t,i)}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.font&&"string"===typeof t.font)return s.default.log(t.font),t.font;var e="normal",a="normal",i="normal",n=t.size||10,r="sans-serif";return n=Math.ceil(Number(n)),t.fontStyle&&"string"===typeof t.fontStyle&&(e=t.fontStyle.trim()),t.fontVariant&&"string"===typeof t.fontVariant&&(a=t.fontVariant.trim()),!t.fontWeight||"string"!==typeof t.fontWeight&&"number"!==typeof t.fontWeight||(i=t.fontWeight.trim()),t.fontFamily&&"string"===typeof t.fontFamily&&(r=t.fontFamily.trim()),e+" "+a+" "+i+" "+n+"px "+r}function S(t,e){if(s.default.log("准备绘制文本方法, texts:"+JSON.stringify(e)),e&&s.default.isArray(e)){if(s.default.log("准备绘制文本方法, 是数组"),e.length>0)for(var a=0;a<e.length;a++)T(t,e[a])}else s.default.log("准备绘制文本方法, 不是数组"),T(t,e)}function T(t,e){if(s.default.log("进入绘制文本方法, textItem:"+JSON.stringify(e)),e&&s.default.isObject(e)&&e.text){if(t.font=N(e),t.setFillStyle(e.color),t.setGlobalAlpha(e.alpha),t.setTextAlign(e.textAlign),t.setTextBaseline(e.textBaseline),t.fillText(e.text,e.dx,e.dy),e.lineThrough&&s.default.isObject(e.lineThrough)){s.default.log("有删除线");var a,i,n=e.lineThrough;switch(n.alpha=void 0!==n.alpha?n.alpha:e.alpha,n.style=n.style||e.color,n.width=void 0!==n.width?n.width:e.size/10,n.cap=void 0!==n.cap?n.cap:"butt",s.default.log("删除线对象:"+JSON.stringify(n)),t.setGlobalAlpha(n.alpha),t.setStrokeStyle(n.style),t.setLineWidth(n.width),t.setLineCap(n.cap),e.textAlign){case"left":a=e.dx;break;case"center":a=e.dx-e.textLength/2;break;default:a=e.dx-e.textLength;break}switch(e.textBaseline){case"top":i=e.dy+.5*e.size;break;case"middle":i=e.dy;break;default:i=e.dy-.5*e.size;break}t.beginPath(),t.moveTo(a,i),t.lineTo(a+e.textLength,i),t.stroke(),t.closePath(),s.default.log("删除线完毕")}t.setGlobalAlpha(1),t.font="10px sans-serif"}}function A(t,e){if(s.default.log("判断图片数据类型:"+JSON.stringify(e)),e&&s.default.isArray(e)){if(e.length>0)for(var a=0;a<e.length;a++)I(t,e[a])}else I(t,e)}function I(t,e){s.default.log("判断绘制图片形状, img:"+JSON.stringify(e)),e.url&&(e.circleSet?j(t,e):e.roundRectSet?z(t,e):F(t,e))}var L={scaleToFill:function(t,e){s.default.log("准备绘制mode为scaleToFill的图片"),t.drawImage(e.url,Number(e.dx||0),Number(e.dy||0),Number(e.dWidth)||!1,Number(e.dHeight)||!1),s.default.log("mode为scaleToFill的图片绘制完毕")},aspectFit:function(t,e){s.default.log("准备绘制mode为aspectFit的图片");var a=e.imageInfo,i=e.dWidth,n=e.dHeight,r=a.height,o=a.width,l=i,u=r/o*l;if(u<n){var c=(Number(n)-Number(u))/Number(n)*r;e.dy=Number(e.dy)+c/2}else{u=n,l=o/r*u;var d=(Number(i)-Number(l))/Number(i)*o;e.dx=Number(e.dx)+d/2}t.drawImage(e.url,0,0,o,r,e.dx,e.dy,l,u),s.default.log("mode为aspectFit的图片绘制完毕")},aspectFill:function(t,e){uni.getSystemInfoSync().pixelRatio;s.default.log("准备绘制mode为aspectFill的图片");var a=e.imageInfo,i=e.dWidth,n=e.dHeight,r=a.height,o=a.width,l=0,u=0,c=o,d=r,f=i,g=r/o*f;if(g<n){console.log("绘制高度 小于 预定高度"),g=n,f=o/r*g;var h=(Number(f)-Number(i))/Number(f)*o;l=h/2,c=o-h}else{var m=(Number(g)-Number(n))/Number(g)*r;u=m/2,d=r-m}s.default.log("aspectFill 最终绘制: sx: ".concat(l,", sy: ").concat(u,", sWidth: ").concat(c,", sHeight: ").concat(d,", dx: ").concat(e.dx,", dy: ").concat(e.dy,", dWidth: ").concat(i,", dHeight: ").concat(n)),t.drawImage(e.url,l,u,c,d,e.dx,e.dy,i,n),s.default.log("mode为aspectFill的图片绘制完毕")}};function F(t,e){if(s.default.log("进入绘制默认图片方法, img:"+JSON.stringify(e)),e.url){var a=!s.default.isUndef(e.alpha);e.alpha=Number(s.default.isUndef(e.alpha)?1:e.alpha),t.setGlobalAlpha(e.alpha),s.default.log("绘制默认图片方法, 有url"),void 0===e.dHeight&&(e.dHeight=e.imageInfo.height),void 0===e.dWidth&&(e.dWidth=e.imageInfo.width);var i=L[e.mode];i?i(t,e):e.dWidth&&e.dHeight&&e.sx&&e.sy&&e.sWidth&&e.sHeight?(s.default.log("绘制默认图片方法, 绘制第一种方案"),t.drawImage(e.url,Number(e.sx)||!1,Number(e.sy)||!1,Number(e.sWidth)||!1,Number(e.sHeight)||!1,Number(e.dx||0),Number(e.dy||0),Number(e.dWidth)||!1,Number(e.dHeight)||!1)):e.dWidth&&e.dHeight?(s.default.log("绘制默认图片方法, 绘制第二种方案"),t.drawImage(e.url,Number(e.dx||0),Number(e.dy||0),Number(e.dWidth)||!1,Number(e.dHeight)||!1)):(s.default.log("绘制默认图片方法, 绘制第三种方案"),t.drawImage(e.url,Number(e.dx||0),Number(e.dy||0))),a&&t.setGlobalAlpha(1)}s.default.log("绘制默认图片方法, 绘制完毕")}function j(t,e){s.default.log("进入绘制圆形图片方法, obj:"+JSON.stringify(e));var a,i,n,r,o=e.dx,l=e.dy,u=e.dWidth,c=e.dHeight,d=e.circleSet;e.imageInfo;("object"===typeof d&&(a=d.x,i=d.y,n=d.r),n)||(r=u>c?c:u,n=r/2);a=a?o+a:(o||0)+n,i=i?l+i:(l||0)+n,t.save(),t.beginPath(),t.arc(a,i,n,0,2*Math.PI,!1),t.closePath(),t.setGlobalAlpha(0),t.fillStyle="#FFFFFF",t.fill(),t.setGlobalAlpha(1),t.clip(),F(t,e),s.default.log("默认图片绘制完毕"),t.restore()}function z(t,e){s.default.log("进入绘制矩形图片方法, obj:"+JSON.stringify(e)),t.save();var a,i=e.dx,n=e.dy,r=e.dWidth,o=e.dHeight,l=e.roundRectSet;e.imageInfo;"object"===typeof l&&(a=l.r),a=a||.1*r,r<2*a&&(a=r/2),o<2*a&&(a=o/2),t.beginPath(),t.arc(i+a,n+a,a,1*Math.PI,1.5*Math.PI),t.lineTo(i+r-a,n),t.arc(i+r-a,n+a,a,1.5*Math.PI,0),t.lineTo(i+r,n+o-a),t.arc(i+r-a,n+o-a,a,0,.5*Math.PI),t.lineTo(i+a,n+o),t.arc(i+a,n+o-a,a,.5*Math.PI,1*Math.PI),t.lineTo(i,n+a),t.closePath(),t.setGlobalAlpha(0),t.fillStyle="#FFFFFF",t.fill(),t.setGlobalAlpha(1),t.clip(),F(t,e),t.restore(),s.default.log("进入绘制矩形图片方法, 绘制完毕")}function O(t,e){s.default.log("进入绘制二维码方法"),s.default.showLoading("正在生成二维码");for(var a=[],i={text:String(e.text||"")||"",size:Number(e.size||0)||200,background:String(e.background||"")||"#ffffff",foreground:String(e.foreground||"")||"#000000",pdground:String(e.pdground||"")||"#000000",correctLevel:Number(e.correctLevel||0)||3,image:String(e.image||"")||"",imageSize:Number(e.imageSize||0)||40,dx:Number(e.dx||0)||0,dy:Number(e.dy||0)||0},n=null,r=0,o=0,u=a.length;o<u;o++)if(r=o,a[o].text==i.text&&a[o].text.correctLevel==i.correctLevel){n=a[o].obj;break}r==u&&(n=new l.default(i.text,i.correctLevel),a.push({text:i.text,correctLevel:i.correctLevel,obj:n}));for(var c=function(t){var e=t.options;return e.pdground&&(t.row>1&&t.row<5&&t.col>1&&t.col<5||t.row>t.count-6&&t.row<t.count-2&&t.col>1&&t.col<5||t.row>1&&t.row<5&&t.col>t.count-6&&t.col<t.count-2)?e.pdground:e.foreground},d=n.getModuleCount(),f=i.size,g=i.imageSize,h=(f/d).toPrecision(4),m=(f/d).toPrecision(4),p=0;p<d;p++)for(var b=0;b<d;b++){var v=Math.ceil((b+1)*h)-Math.floor(b*h),w=Math.ceil((p+1)*h)-Math.floor(p*h),y=c({row:p,col:b,count:d,options:i});t.setFillStyle(n.modules[p][b]?y:i.background),t.fillRect(i.dx+Math.round(b*h),i.dy+Math.round(p*m),v,w)}if(i.image){var x=function(t,e,a,n,r,o,s,l,u){t.setLineWidth(s),t.setFillStyle(i.background),t.setStrokeStyle(i.background),t.beginPath(),t.moveTo(e+o,a),t.arcTo(e+n,a,e+n,a+o,o),t.arcTo(e+n,a+r,e+n-o,a+r,o),t.arcTo(e,a+r,e,a+r-o,o),t.arcTo(e,a,e+o,a,o),t.closePath(),l&&t.fill(),u&&t.stroke()},_=i.dx+Number(((f-g)/2).toFixed(2)),k=i.dy+Number(((f-g)/2).toFixed(2));x(t,_,k,g,g,2,6,!0,!0),t.drawImage(i.image,_,k,g,g)}s.default.log("进入绘制二维码方法完毕"),s.default.hideLoading()}function E(t){t.backgroundImage,t.type;return new Promise(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(a,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s.default.showLoading("正在获取海报背景图"),e.next=4,D(t);case 4:n=e.sent,s.default.hideLoading(),a(n),e.next=15;break;case 9:e.prev=9,e.t0=e["catch"](0),s.default.hideLoading(),s.default.showToast("获取分享用户背景图失败:"+JSON.stringify(e.t0)),s.default.log(JSON.stringify(e.t0)),i(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}())}function D(t,e){var a=t.backgroundImage;t.type;return s.default.log("获取分享背景图, 尝试清空本地数据"),new Promise(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(i,n){var o,l,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s.default.showLoading("正在下载海报背景图"),s.default.log("没有从后端获取的背景图片路径, 尝试从后端获取背景图片路径"),!a){e.next=7;break}e.t0=a,e.next=10;break;case 7:return e.next=9,s.default.getPosterUrl(t);case 9:e.t0=e.sent;case 10:return o=e.t0,e.next=13,k(o);case 13:return o=e.sent,s.default.log("尝试下载并保存背景图:"+o),e.next=17,s.default.downLoadAndSaveFile_PromiseFc(o);case 17:if(l=e.sent,!l){e.next=31;break}return s.default.log("下载并保存背景图成功:"+l),e.next=22,s.default.getImageInfo_PromiseFc(o);case 22:u=e.sent,s.default.log("获取图片信息成功"),c={path:l,width:u.width,height:u.height,name:s.default.fileNameInPath(o)},s.default.log("拼接背景图信息对象成功:"+JSON.stringify(c)),s.default.hideLoading(),s.default.log("返回背景图信息对象"),i((0,r.default)({},c)),e.next=33;break;case 31:s.default.hideLoading(),n("not find savedFilePath");case 33:e.next=38;break;case 35:e.prev=35,e.t1=e["catch"](0),n(e.t1);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,a){return e.apply(this,arguments)}}())}t.exports={getSharePoster:f,setText:v,setImage:_,drawText:C,drawImage:A,drawQrCode:O,drawFillRect:h,drawStrokeRect:m,drawRoundStrokeRect:p,drawRoundFillRect:b}},4001:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={z_text:a("e956").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"minh100"},[i("z_text"),1==t.htmlReset?i("v-uni-view",{staticClass:"zanwu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onRetry.apply(void 0,arguments)}}},[t._v("请求失败，请点击重试")]):t._e(),-1==t.htmlReset?i("v-uni-view",{staticClass:"loading_def"},[i("v-uni-image",{staticClass:"loading_def_img",attrs:{src:a("2145"),mode:""}})],1):t._e(),0==t.htmlReset?i("v-uni-view",[t.xqData?i("v-uni-view",{staticClass:"top_box"},[i("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":t.indicatorDots,"indicator-color":"rgba(255,255,255,.9)","indicator-active-color":"#F54248",autoplay:t.autoplay,interval:t.interval,duration:t.duration,circular:"true"}},t._l(t.xqData.pic,(function(e,a){return i("v-uni-swiper-item",[i("v-uni-image",{staticClass:"swi_img",attrs:{src:t.getimg(e),"lazy-load":"true",mode:"aspectFill"}})],1)})),1),i("v-uni-view",{staticClass:"fq_user dis_flex aic"},[i("v-uni-image",{staticClass:"fq_user_tx",attrs:{src:t.getimg(t.xqData.use_head_portrait),mode:"aspectFill"}}),i("v-uni-view",{staticClass:"fq_user_name"},[t._v(t._s(t.xqData.user_nickname)),i("v-uni-text",[t._v("发起筹款")])],1),t.xqData.genre?i("v-uni-view",{staticClass:"grqz"},[t._v(t._s(t.xqData.genre))]):t._e()],1),i("v-uni-view",{staticClass:"xq_tit"},[t._v(t._s(t.xqData.title))]),t.xqData.label?[t.xqData.label.length>0?i("v-uni-view",{staticClass:"xq_bqs"},t._l(t.xqData.label,(function(e,a){return e?i("v-uni-view",{staticClass:"xq_bq"},[t._v(t._s(e))]):t._e()})),1):t._e()]:t._e(),i("v-uni-view",{staticClass:"xq_datas"},[i("v-uni-image",{staticClass:"xq_datas_bg",attrs:{src:t.getimg("/static/web/images/xqimg_06.jpg"),mode:"aspectFill"}}),i("v-uni-view",{staticClass:"xq_datas_box"},[i("v-uni-view",{staticClass:"xq_datas_li"},[i("v-uni-view",{staticClass:"xq_datas_li_num"},[t._v(t._s(t.xqData.total_raise_funds))]),i("v-uni-view",{staticClass:"xq_datas_li_name"},[t._v("需要筹款(元)")])],1),i("v-uni-view",{staticClass:"xq_datas_li"},[i("v-uni-view",{staticClass:"xq_datas_li_num"},[t._v(t._s(t.xqData.yet_raise_funds))]),i("v-uni-view",{staticClass:"xq_datas_li_name"},[t._v("已经筹款(元)")])],1),i("v-uni-view",{staticClass:"xq_datas_li"},[i("v-uni-view",{staticClass:"xq_datas_li_num"},[t._v(t._s(t.xqData.help_number))]),i("v-uni-view",{staticClass:"xq_datas_li_name"},[t._v("帮助次数")])],1)],1)],1)],2):t._e(),i("v-uni-view",{staticStyle:{height:"10upx",width:"100%",background:"#F1F1F1"}}),t.xqData?i("v-uni-view",{staticClass:"top_box"},[i("v-uni-view",{staticClass:"dis_flex aic mian_tit"},[i("v-uni-view",{staticClass:"mian_tit_name"},[t._v("求助人的故事")]),i("v-uni-view",{staticClass:"jb_btn",attrs:{"data-url":"/pagesA/jubao/jubao?id="+t.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jump.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-jubao"}),t._v("举报")],1)],1),i("v-uni-view",{staticClass:"mian_inr"},[t._v("患者姓名："+t._s(t.xqData.patient_name)),i("br"),t._v("患者年龄："+t._s(t.xqData.patient_age)),i("br"),t._v("家庭住址："+t._s(t.xqData.patient_address)),i("br"),t._v("所患疾病名称："+t._s(t.xqData.patient_illness)),i("br"),t._v(t._s(t.xqData.content))]),t.xqData.content_img?[t.xqData.content_img.length>0?i("v-uni-view",{staticClass:"main_imgs"},t._l(t.xqData.content_img,(function(e,a){return i("v-uni-image",{staticClass:"main_img",attrs:{"data-array":"","data-src":t.getimg(e),src:t.getimg(e),mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pveimg.apply(void 0,arguments)}}})})),1):t._e()]:t._e()],2):t._e(),i("v-uni-view",{staticStyle:{height:"10upx",width:"100%",background:"#F1F1F1"}}),i("v-uni-view",{staticClass:"top_box"},[i("v-uni-view",{staticClass:"dis_flex aic mian_tit"},[i("v-uni-view",{staticClass:"mian_tit_name"},[t._v("帮助次数")]),i("v-uni-view",{staticClass:"jb_btn"})],1),i("v-uni-view",{staticClass:"jz_list"},[t._l(t.datas,(function(e,a){return i("v-uni-view",{staticClass:"jz_li"},[i("v-uni-image",{staticClass:"jz_li_tx",attrs:{src:t.getimg(e.head_portrait),mode:"aspectFill"}}),i("v-uni-view",{staticClass:"jz_li_msg dis_flex aic ju_b"},[i("v-uni-view",{staticClass:"jz_li_msg_l"},[i("v-uni-view",{staticClass:"jz_li_msg_l_d1 dis_flex aic"},[i("v-uni-view",{staticClass:"jz_li_msg_l_name"},[t._v(t._s(e.nickname))]),t._v("支持了"+t._s(e.money)+"元")],1),i("v-uni-view",{staticClass:"jz_li_msg_l_d2"},[t._v(t._s(e.create_time))])],1),i("v-uni-text",{staticClass:"iconfont icon-zan",class:1==e.is_praise?"zan":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.zan_fuc(e)}}})],1)],1)})),0==t.datas.length?i("v-uni-view",{staticClass:"zanwu"},[t._v("暂无数据")]):t._e(),t.datas.length>0&&t.data_last?i("v-uni-view",{staticClass:"data_last"},[t._v("我可是有底线的哟~")]):t._e()],2),i("v-uni-view",{staticStyle:{width:"100%",height:"100upx"}})],1),i("v-uni-view",{staticClass:"b_cz_box dis_flex ju_b aic"},[i("v-uni-view",{staticClass:"b_cz_box_btn",attrs:{"data-url":"/pagesA/bangzhu/bangzhu?id="+t.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jump.apply(void 0,arguments)}}},[t._v("我要帮帮他")])],1),i("QSPopup",{ref:"popup"},[i("v-uni-view",{staticClass:"flex_column"},[i("v-uni-view",{staticClass:"backgroundColor-white padding1vh border_radius_10px"},[i("v-uni-image",{staticClass:"posterImage_img",attrs:{src:t.posterImage||"",mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"flex_row marginTop2vh"},[i("v-uni-view",{staticClass:"save_img_btn",on:{click:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.saveImage()}}},[t._v("保存到本地")])],1)],1)],1),i("v-uni-view",{staticClass:"hideCanvasView"},[i("v-uni-canvas",{staticClass:"hideCanvas",style:{width:(t.poster.width||10)+"px",height:(t.poster.height||10)+"px"},attrs:{id:"default_PosterCanvasId","canvas-id":"default_PosterCanvasId"}})],1)],1):t._e()],1)},r=[]},4829:function(t,e,a){"use strict";function i(t){var e,a,i;return t<128?[t]:t<2048?(e=192+(t>>6),a=128+(63&t),[e,a]):(e=224+(t>>12),a=128+(t>>6&63),i=128+(63&t),[e,a,i])}function n(t){for(var e=[],a=0;a<t.length;a++)for(var n=t.charCodeAt(a),r=i(n),o=0;o<r.length;o++)e.push(r[o]);return e}function r(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=n(t),this.make()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,r.prototype={constructor:r,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var a=-1;a<=7;a++)if(!(t+a<=-1||this.moduleCount<=t+a))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+a][e+i]=0<=a&&a<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=i&&i<=4)},createQrcode:function(){for(var t=0,e=0,a=null,i=0;i<8;i++){this.makeImpl(i);var n=l.getLostPoint(this);(0==i||t>n)&&(t=n,e=i,a=this.modules)}this.modules=a,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var a=0;a<t.length;a++){var i=t[e],n=t[a];if(null==this.modules[i][n])for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)this.modules[i+r][n+o]=-2==r||2==r||-2==o||2==o||0==r&&0==o}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var i=!t&&1==(e>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=i,this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=i}},setupTypeInfo:function(t,e){for(var a=o[this.errorCorrectLevel]<<3|e,i=l.getBCHTypeInfo(a),n=0;n<15;n++){var r=!t&&1==(i>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r;r=!t&&1==(i>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new g,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var a=0,i=this.utf8bytes.length;a<i;a++)t.put(this.utf8bytes[a],8);t.length+4<=8*this.totalDataCount&&t.put(0,4);while(t.length%8!=0)t.putBit(!1);while(1){if(t.length>=8*this.totalDataCount)break;if(t.put(r.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(r.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,a=0,i=0,n=this.rsBlock.length/3,r=new Array,o=0;o<n;o++)for(var s=this.rsBlock[3*o+0],u=this.rsBlock[3*o+1],c=this.rsBlock[3*o+2],f=0;f<s;f++)r.push([c,u]);for(var g=new Array(r.length),h=new Array(r.length),m=0;m<r.length;m++){var p=r[m][0],b=r[m][1]-p;a=Math.max(a,p),i=Math.max(i,b),g[m]=new Array(p);for(o=0;o<g[m].length;o++)g[m][o]=255&t.buffer[o+e];e+=p;var v=l.getErrorCorrectPolynomial(b),w=new d(g[m],v.getLength()-1),y=w.mod(v);h[m]=new Array(v.getLength()-1);for(o=0;o<h[m].length;o++){var x=o+y.getLength()-h[m].length;h[m][o]=x>=0?y.get(x):0}}var _=new Array(this.totalDataCount),k=0;for(o=0;o<a;o++)for(m=0;m<r.length;m++)o<g[m].length&&(_[k++]=g[m][o]);for(o=0;o<i;o++)for(m=0;m<r.length;m++)o<h[m].length&&(_[k++]=h[m][o]);return _},mapData:function(t,e){for(var a=-1,i=this.moduleCount-1,n=7,r=0,o=this.moduleCount-1;o>0;o-=2){6==o&&o--;while(1){for(var s=0;s<2;s++)if(null==this.modules[i][o-s]){var u=!1;r<t.length&&(u=1==(t[r]>>>n&1));var c=l.getMask(e,i,o-s);c&&(u=!u),this.modules[i][o-s]=u,n--,-1==n&&(r++,n=7)}if(i+=a,i<0||this.moduleCount<=i){i-=a,a=-a;break}}}}},r.PAD0=236,r.PAD1=17;for(var o=[1,0,3,2],s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(l.getBCHDigit(e)-l.getBCHDigit(l.G15)>=0)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(l.getBCHDigit(e)-l.getBCHDigit(l.G18)>=0)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,a){switch(t){case s.PATTERN000:return(e+a)%2==0;case s.PATTERN001:return e%2==0;case s.PATTERN010:return a%3==0;case s.PATTERN011:return(e+a)%3==0;case s.PATTERN100:return(Math.floor(e/2)+Math.floor(a/3))%2==0;case s.PATTERN101:return e*a%2+e*a%3==0;case s.PATTERN110:return(e*a%2+e*a%3)%2==0;case s.PATTERN111:return(e*a%3+(e+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new d([1],0),a=0;a<t;a++)e=e.multiply(new d([1,u.gexp(a)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),a=0,i=0,n=0;n<e;n++)for(var r=0,o=t.modules[n][0],s=0;s<e;s++){var l=t.modules[n][s];if(s<e-6&&l&&!t.modules[n][s+1]&&t.modules[n][s+2]&&t.modules[n][s+3]&&t.modules[n][s+4]&&!t.modules[n][s+5]&&t.modules[n][s+6]&&(s<e-10?t.modules[n][s+7]&&t.modules[n][s+8]&&t.modules[n][s+9]&&t.modules[n][s+10]&&(a+=40):s>3&&t.modules[n][s-1]&&t.modules[n][s-2]&&t.modules[n][s-3]&&t.modules[n][s-4]&&(a+=40)),n<e-1&&s<e-1){var u=0;l&&u++,t.modules[n+1][s]&&u++,t.modules[n][s+1]&&u++,t.modules[n+1][s+1]&&u++,0!=u&&4!=u||(a+=3)}o^l?r++:(o=l,r>=5&&(a+=3+r-5),r=1),l&&i++}for(s=0;s<e;s++)for(r=0,o=t.modules[0][s],n=0;n<e;n++){l=t.modules[n][s];n<e-6&&l&&!t.modules[n+1][s]&&t.modules[n+2][s]&&t.modules[n+3][s]&&t.modules[n+4][s]&&!t.modules[n+5][s]&&t.modules[n+6][s]&&(n<e-10?t.modules[n+7][s]&&t.modules[n+8][s]&&t.modules[n+9][s]&&t.modules[n+10][s]&&(a+=40):n>3&&t.modules[n-1][s]&&t.modules[n-2][s]&&t.modules[n-3][s]&&t.modules[n-4][s]&&(a+=40)),o^l?r++:(o=l,r>=5&&(a+=3+r-5),r=1)}var c=Math.abs(100*i/e/e-50)/5;return a+=10*c,a}},u={glog:function(t){if(t<1)throw new Error("glog("+t+")");return u.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return u.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)u.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)u.EXP_TABLE[c]=u.EXP_TABLE[c-4]^u.EXP_TABLE[c-5]^u.EXP_TABLE[c-6]^u.EXP_TABLE[c-8];for(c=0;c<255;c++)u.LOG_TABLE[u.EXP_TABLE[c]]=c;function d(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var a=0;while(a<t.length&&0==t[a])a++;this.num=new Array(t.length-a+e);for(var i=0;i<t.length-a;i++)this.num[i]=t[i+a]}d.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var i=0;i<t.getLength();i++)e[a+i]^=u.gexp(u.glog(this.get(a))+u.glog(t.get(i)));return new d(e,0)},mod:function(t){var e=this.getLength(),a=t.getLength();if(e-a<0)return this;for(var i=new Array(e),n=0;n<e;n++)i[n]=this.get(n);while(i.length>=a){var r=u.glog(i[0])-u.glog(t.get(0));for(n=0;n<t.getLength();n++)i[n]^=u.gexp(u.glog(t.get(n))+r);while(0==i[0])i.shift()}return new d(i,0)}};var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];function g(){this.buffer=new Array,this.length=0}r.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=f[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var a=e.length/3,i=0,n=0;n<a;n++){var r=e[3*n+0],o=e[3*n+2];i+=o*r}var s=t>9?2:1;if(this.utf8bytes.length+s<i||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=i;break}}},g.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var a=0;a<e;a++)this.putBit(t>>>e-a-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}},"542d":function(t,e,a){"use strict";var i=a("23e7"),n=a("d039"),r=a("408a"),o=1..toPrecision,s=n((function(){return"1"!==o.call(1,void 0)}))||!n((function(){o.call({})}));i({target:"Number",proto:!0,forced:s},{toPrecision:function(t){return void 0===t?o.call(r(this)):o.call(r(this),t)}})},6005:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(a("6b75"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t))return(0,i.default)(t)}},"6b75":function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"797d":function(t,e,a){"use strict";a.r(e);var i=a("a3d7"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"96cf":function(t,e){!function(e){"use strict";var a,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",u="object"===typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{c=e.regeneratorRuntime=u?t.exports:{},c.wrap=y;var d="suspendedStart",f="suspendedYield",g="executing",h="completed",m={},p={};p[o]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(F([])));v&&v!==i&&n.call(v,o)&&(p=v);var w=P.prototype=_.prototype=Object.create(p);k.prototype=w.constructor=P,P.constructor=k,P[l]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(w),t},c.awrap=function(t){return{__await:t}},C(N.prototype),N.prototype[s]=function(){return this},c.AsyncIterator=N,c.async=function(t,e,a,i){var n=new N(y(t,e,a,i));return c.isGeneratorFunction(e)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},C(w),w[l]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var i=e.pop();if(i in t)return a.value=i,a.done=!1,a}return a.done=!0,a}},c.values=F,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return s.type="throw",s.arg=t,e.next=i,n&&(e.method="next",e.arg=a),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),I(a),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;I(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:F(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=a),m}}}function y(t,e,a,i){var n=e&&e.prototype instanceof _?e:_,r=Object.create(n.prototype),o=new L(i||[]);return r._invoke=S(t,a,o),r}function x(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(i){return{type:"throw",arg:i}}}function _(){}function k(){}function P(){}function C(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function N(t){function e(a,i,r,o){var s=x(t[a],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,r,o)}),(function(t){e("throw",t,r,o)})):Promise.resolve(u).then((function(t){l.value=t,r(l)}),(function(t){return e("throw",t,r,o)}))}o(s.arg)}var a;function i(t,i){function n(){return new Promise((function(a,n){e(t,i,a,n)}))}return a=a?a.then(n,n):n()}this._invoke=i}function S(t,e,a){var i=d;return function(n,r){if(i===g)throw new Error("Generator is already running");if(i===h){if("throw"===n)throw r;return j()}a.method=n,a.arg=r;while(1){var o=a.delegate;if(o){var s=T(o,a);if(s){if(s===m)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===d)throw i=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=g;var l=x(t,e,a);if("normal"===l.type){if(i=a.done?h:f,l.arg===m)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(i=h,a.method="throw",a.arg=l.arg)}}}function T(t,e){var i=t.iterator[e.method];if(i===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=a,T(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=x(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,m):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function F(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){while(++i<t.length)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=a,e.done=!0,e};return r.next=r}}return{next:j}}function j(){return{value:a,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"98d9":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.top_box[data-v-348852c7]{width:100%;padding:%?30?%}.swiper[data-v-348852c7]{width:100%;height:%?360?%;position:relative;z-index:100!important}.swi_img[data-v-348852c7]{width:100%;height:%?360?%}.fq_user[data-v-348852c7]{padding-top:%?40?%;padding-bottom:%?25?%}.fq_user_tx[data-v-348852c7]{width:%?43?%;height:%?43?%;border-radius:50%;margin-right:%?12?%;-webkit-box-flex:0;-webkit-flex:none;flex:none}.fq_user_name[data-v-348852c7]{font-size:%?28?%;color:#333;-webkit-box-flex:1;-webkit-flex:1;flex:1}.fq_user_name uni-text[data-v-348852c7]{margin-left:%?10?%;color:#8e8e8e}.grqz[data-v-348852c7]{font-size:%?22?%;color:#137af2;padding:%?7?%;background:rgba(19,122,242,.27)}.xq_tit[data-v-348852c7]{font-size:%?36?%;color:#333;line-height:%?50?%;margin-bottom:%?20?%}.xq_bqs[data-v-348852c7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:%?30?%}.xq_bq[data-v-348852c7]{font-size:%?22?%;color:#137af2;padding:%?7?%;background:rgba(19,122,242,.27);margin-right:%?19?%;margin-bottom:%?19?%}.xq_datas[data-v-348852c7]{width:100%;height:%?186?%;border:1px solid #fed8af;border-radius:%?4?%;position:relative}.xq_datas_bg[data-v-348852c7]{position:relative;z-index:1;width:100%;height:100%}.xq_datas_box[data-v-348852c7]{position:absolute;top:0;left:0;width:100%;right:0;z-index:2;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around}.xq_datas_li[data-v-348852c7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.xq_datas_li_num[data-v-348852c7]{font-size:%?36?%;color:#f86637;margin-bottom:%?20?%;font-weight:700}.xq_datas_li_name[data-v-348852c7]{font-size:%?20?%;color:#565757}.mian_tit[data-v-348852c7]{width:100%;\n\t/* height: 100upx; */-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?30?%}.mian_tit_name[data-v-348852c7]{font-size:%?34?%;color:#333;padding-left:%?24?%;position:relative;font-weight:700}.mian_tit_name[data-v-348852c7]::before{content:"";position:absolute;top:%?10?%;left:0;width:%?5?%;height:%?32?%;background:#f54248;border-radius:%?3?%}.jb_btn[data-v-348852c7]{font-size:%?26?%;color:#f86637}.jb_btn uni-text[data-v-348852c7]{font-size:%?26?%;color:#f86637}.mian_inr[data-v-348852c7]{font-size:%?28?%;color:#333;line-height:%?40?%}.main_imgs[data-v-348852c7]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:%?20?% 0}.main_img[data-v-348852c7]{width:%?217?%;height:%?217?%;margin-right:%?18?%;margin-bottom:%?18?%}.main_img[data-v-348852c7]:nth-child(3n){margin-right:0}.jz_list[data-v-348852c7]{width:100%}.jz_li[data-v-348852c7]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.jz_li_tx[data-v-348852c7]{width:%?87?%;height:%?87?%;border-radius:50%}.jz_li_msg[data-v-348852c7]{width:%?569?%;height:%?130?%;border-bottom:1px solid #e8e8e8}.jz_li_msg_l[data-v-348852c7]{width:%?500?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.jz_li_msg_l_d1[data-v-348852c7]{font-size:%?26?%;color:#333}.jz_li_msg_l_name[data-v-348852c7]{font-size:%?28?%;color:#333;margin-right:%?10?%;font-weight:700}.jz_li_msg_l_d2[data-v-348852c7]{font-size:%?22?%;color:#999}.jz_li_msg uni-text[data-v-348852c7]{color:#ccc;font-size:%?28?%;margin-right:%?10?%;felx:none}.jz_li_msg .zan[data-v-348852c7]{color:#fc5534}.b_cz_box[data-v-348852c7]{width:100%;height:%?100?%;background:#fff;box-shadow:0 2px 10px 0 rgba(0,0,0,.1);background:#fff;position:fixed;bottom:0;left:0;z-index:100;padding:%?10?% %?30?%}.b_cz_box_btn[data-v-348852c7]{font-size:%?26?%;color:#fff;-webkit-box-flex:1;-webkit-flex:1;flex:1;min-width:%?405?%;height:%?69?%;background:-webkit-linear-gradient(right,rgba(252,85,52,.89),rgba(255,190,51,.89));background:linear-gradient(-90deg,rgba(252,85,52,.89),rgba(255,190,51,.89));border-radius:%?33?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.b_cz_btn[data-v-348852c7]{font-size:%?22?%;color:#999;-webkit-box-flex:1;-webkit-flex:1;flex:1;max-width:%?120?%}.b_cz_sg[data-v-348852c7]{width:1px;height:%?48?%;background:#d9d9d9}.b_cz_btn .iconfont[data-v-348852c7]{font-size:%?45?%;color:#9c9c9c;margin-bottom:%?6?%}.hideCanvasView[data-v-348852c7]{position:relative}.hideCanvas[data-v-348852c7]{position:fixed;top:%?-99999?%;left:%?-99999?%;z-index:-99999}.flex_row_c_c[data-v-348852c7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.modalView[data-v-348852c7]{width:100%;height:100%;position:fixed;top:0;left:0;right:0;bottom:0;opacity:0;outline:0;-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-perspective:%?2500?%;perspective:%?2500?%;background:rgba(0,0,0,.6);-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:999}.modalView.show[data-v-348852c7]{opacity:1;-webkit-transform:scale(1);transform:scale(1);pointer-events:auto}.flex_column[data-v-348852c7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.backgroundColor-white[data-v-348852c7]{background-color:#fe7e13}.border_radius_10px[data-v-348852c7]{border-radius:10px}.padding1vh[data-v-348852c7]{padding:%?9?%;box-sizing:border-box}.posterImage_img[data-v-348852c7]{width:%?480?%;height:%?853?%}.padding1vh[data-v-348852c7]{padding:%?9?%;box-sizing:border-box}.posterImage_img[data-v-348852c7]{width:%?480?%;height:%?853?%}.flex_row[data-v-348852c7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.marginTop2vh[data-v-348852c7]{margin-top:2vh}.save_img_btn[data-v-348852c7]{width:%?339?%;height:%?77?%;background:#fe7e13;border-radius:%?39?%;font-size:%?28?%;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}',""]),t.exports=e},a3d7:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("7db0"),a("ac1f"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n,r=i(a("1da1")),o=i(a("5530")),s=i(a("e143")),l=i(a("274d")),u=a("2f62"),c=i(a("eb04")),d=a("3495"),f={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,htmlReset:-1,indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,id:"",xqData:{},datas:[],page:1,size:15,data_last:!1,poster:{width:750,height:1334},posterImage:"",canvasId:"default_PosterCanvasId",ewmimg:"",type:""}},onShareAppMessage:function(){},computed:(0,o.default)((0,o.default)({},(0,u.mapState)(["hasLogin","userName","loginDatas"])),{},{style:function(){var t=this.StatusBar,e=this.CustomBar,a="height:".concat(e,"px;padding-top:").concat(t,"px;");return a},style1:function(){var t=this.StatusBar,e="top:".concat(t,"px;");return e}}),onPageScroll:function(t){console.log(t),this.PageScroll=t.scrollTop},onPullDownRefresh:function(){n.onRetry()},onReachBottom:function(){n.getdatalist()},onLoad:function(t){if(n=this,t.scene){var e=decodeURIComponent(t.scene);console.log(e);var a=e.split("=");console.log(e);var i={};i[a[0]]=a[1],this.id=i.id;var r=i.pid;uni.setStorageSync("pid",r)}t.id&&(n.id=t.id),t.type&&(n.type=t.type),n.onRetry()},onShow:function(){uni.removeStorageSync("bz_id")},methods:(0,o.default)((0,o.default)({},(0,u.mapMutations)(["login","logindata","logout","setplatform"])),{},{onRetry:function(){n.getdata(),n.getdatalist()},shareFc:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,n.hasLogin,e.prev=2,t.count++,c.default.log("准备生成:"+new Date),e.next=7,(0,d.getSharePoster)({_this:a,canvasType:"2d",type:"testShareType",background:{height:750,width:1334,backgroundColor:"#fff"},formData:{},posterCanvasId:a.canvasId,delayTimeScale:20,setCanvasWH:function(t){var e=t.bgObj;a.poster=e},drawArray:function(t){t.bgObj,t.type,t.bgScale;var e=t.setBgObj,a=t.getBgObj;return[{type:"image",id:"productImage",url:l.default.imgurl+n.xqData.pic[0],dx:0,dy:0,serialNum:0,infoCallBack:function(t){var a,i;t.width>t.height?(a=t.width>700?700:t.width,i=a/t.width*t.height):(i=t.height>700?700:t.height,a=i/t.height*t.width),a<500&&(a=500,i=a/t.width*t.height);var n=.3*i;return n<150&&(n=150),n>250&&(n=250),a=750,i=611,e({width:750,height:1334,backgroundColor:"#fff"}),{dWidth:750,dHeight:611}}},{type:"text",id:"productName",text:n.xqData.title,color:"#333333",serialNum:1,allInfoCallback:function(t){var e=t.drawArray;console.log("allInfoCallback",1);var i=e.find((function(t){return"productImage"===t.id}));console.log("allInfoCallback",2),console.log("allInfoCallback getBgObj",a);a().height,i.dHeight;return console.log("allInfoCallback",3),{size:56,lineFeed:{maxWidth:690,lineHeight:90,lineNum:2},dx:30,dy:685}}},{type:"image",id:"productImage12",url:l.default.imgurl+"static/web/images/haibao_img_07.jpg",dx:30,dy:869,serialNum:2,dWidth:690,dHeight:155,infoCallBack:function(t){var e,a;return e=690,a=155,{dWidth:e,dHeight:a}}},{type:"text",text:"需要筹款(元）",color:"#565757",serialNum:3,allInfoCallback:function(t){var e=t.drawArray,i=e.find((function(t){return"productImage"===t.id}));a().height,i.dHeight;return{size:40,color:"#565757",fontWeight:"bold",lineFeed:{lineNum:1},dx:55,dy:947}}},{type:"text",text:n.xqData.total_raise_funds,color:"#565757",serialNum:4,allInfoCallback:function(t){var e=t.drawArray,i=e.find((function(t){return"productImage"===t.id}));a().height,i.dHeight;return{size:45,color:"#F86637",fontWeight:"bold",lineFeed:{lineNum:1},dx:335,dy:947}}},{type:"image",id:"productImage13",url:l.default.imgurl+n.ewmimg,dx:88,dy:1080,serialNum:5,infoCallBack:function(t){return{dWidth:188,dHeight:188}}},{type:"text",text:"长按识别小程序",serialNum:4,allInfoCallback:function(t){var e=t.drawArray,i=e.find((function(t){return"productImage"===t.id}));a().height,i.dHeight;return{size:45,color:"#2A2A2A",lineFeed:{lineNum:1},dx:365,dy:1135}}},{type:"text",text:"好货要和朋友一起分享",serialNum:4,allInfoCallback:function(t){var e=t.drawArray,i=e.find((function(t){return"productImage"===t.id}));a().height,i.dHeight;return{size:26,color:"#2A2A2A",lineFeed:{lineNum:1},dx:365,dy:1205}}}]}});case 7:i=e.sent,c.default.log("海报生成成功, 时间:"+new Date+"， 临时路径: "+i.poster.tempFilePath),t.posterImage=i.poster.tempFilePath,t.$refs.popup.show(),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](2),c.default.hideLoading(),c.default.showToast(JSON.stringify(e.t0)),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))()},saveImage:function(){console.log(n.posterImage),c.default.showToast("保存了"),n.hideQr()},hideQr:function(){this.$refs.popup.hide()},share_fuc:function(t){},zan_fuc:function(t){var e="/attention",a={token:n.$store.state.loginDatas.userToken,id:t.id,type:1,operate:1==t.is_praise?"cancel":"affirm"};l.default.P_post(e,a).then((function(e){if(n.btn_kg=0,n.htmlReset=0,console.log(e),1==e.code){var a=e.data;console.log(typeof a),"string"==typeof a&&(a=JSON.parse(a)),1==t.is_praise?s.default.set(t,"is_praise",2):s.default.set(t,"is_praise",1)}else e.msg?uni.showToast({icon:"none",title:e.msg}):uni.showToast({icon:"none",title:"操作失败"})})).catch((function(t){n.btn_kg=0,console.log(t),uni.showToast({icon:"none",title:"操作失败"})}))},pveimg:function(t){l.default.pveimg(t)},getdata:function(){var t=this,e={id:t.id},a="/crowdfundDetails";2==t.type&&(e={token:t.$store.state.loginDatas.userToken,id:t.id},a="/user/crowdfundProject/look"),uni.showLoading({title:"正在获取数据"}),l.default.P_get(a,e).then((function(e){if(t.btn_kg=0,t.htmlReset=0,console.log(e),1==e.code){var a=e.data;if(console.log(typeof a),"string"==typeof a&&(a=JSON.parse(a)),t.xqData=a,2==t.type){var i=t.xqData.label;i=i.split(/\n/),console.log(a),s.default.set(t.xqData,"label",i)}}else e.msg?uni.showToast({icon:"none",title:e.msg}):uni.showToast({icon:"none",title:"操作失败"}),t.id||setTimeout((function(){uni.switchTab({url:"/pages/index/index"})}),1e3)})).catch((function(e){t.btn_kg=0,console.log(e),uni.showToast({icon:"none",title:"获取数据失败"})}))},getewm:function(){var t=this,e={token:t.$store.state.loginDatas.userToken,id:t.id},a="/generateProjectQrCode";l.default.P_post(a,e).then((function(e){if(t.btn_kg=0,t.htmlReset=0,console.log(e),1==e.code){var a=e.data;console.log(typeof a),t.ewmimg=a,t.shareFc(),console.log(a)}else e.msg?uni.showToast({icon:"none",title:e.msg}):uni.showToast({icon:"none",title:"操作失败"})})).catch((function(e){t.btn_kg=0,console.log(e),uni.showToast({icon:"none",title:"获取数据失败"})}))},getdatalist:function(){var t={id:n.id,page:n.page,size:n.size,token:n.$store.state.loginDatas.userToken},e="/getHelpRecord";uni.showLoading({title:"正在获取数据"});var a=n.page;l.default.P_get(e,t).then((function(t){if(n.btn_kg=0,n.htmlReset=0,console.log(t),1==t.code){var e=t.data;if(console.log(typeof e),"string"==typeof e&&(e=JSON.parse(e)),1==a)n.datas=e;else{if(0==e.length)return void(n.data_last=!0);n.data_last=!1,n.datas=n.datas.concat(e)}n.page++,console.log(e)}else t.msg?uni.showToast({icon:"none",title:t.msg}):uni.showToast({icon:"none",title:"操作失败"})})).catch((function(t){n.btn_kg=0,console.log(t),uni.showToast({icon:"none",title:"获取数据失败"})}))},jump:function(t){var e=this;1!=e.btn_kg&&(e.btn_kg=1,setTimeout((function(){e.btn_kg=0}),1e3),l.default.jump(t))},getimg:function(t){return l.default.getimg(t)},getimgarr:function(t,e){return l.default.getimgarr(t,e)}})};e.default=f},cb29:function(t,e,a){var i=a("23e7"),n=a("81d5"),r=a("44d2");i({target:"Array",proto:!0},{fill:n}),r("fill")},cf06:function(t,e,a){"use strict";a.r(e);var i=a("4001"),n=a("797d");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("ef1a");var o,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"348852c7",null,!1,i["a"],o);e["default"]=l.exports},db90:function(t,e,a){"use strict";function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},eb04:function(t,e,a){a("c740"),a("d3b7"),a("ac1f"),a("25f0"),a("1276");var i=console.log,n={log:function(t){i(t)},showLoading:function(t,e){uni.showLoading({title:t,mask:e||!1})},hideLoading:function(){uni.hideLoading()},showToast:function(t,e){uni.showToast({title:t,icon:e||"none"})},getPosterUrl:function(t){var e=t.backgroundImage,a=t.type;t.formData;return new Promise((function(t,i){var n;if(e)n=e;else switch(a){case 1:n="";break;default:n="/static/1.png";break}n?t(n):i("背景图片路径不存在")}))},shareTypeListSheetArray:{array:[0,1,2,3,4,5]},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isPromise:function(t){return!!t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof t.then},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isUndef:function(t){return void 0===t},isNotNull_string:function(t){return null!==t&&void 0!==t&&""!==t},isFn:function(t){return t&&"function"===typeof t},getStorage:function(t,e,a){uni.getStorage({key:t,success:function(t){t.data&&""!=t.data?e&&e(t.data):a&&a()},fail:function(){a&&a()}})},setStorage:function(t,e){i("设置缓存"),i("key："+t),i("data："+JSON.stringify(e)),uni.setStorage({key:t,data:e})},setStorageSync:function(t,e){uni.setStorageSync(t,e)},getStorageSync:function(t){return uni.getStorageSync(t)},clearStorageSync:function(){uni.clearStorageSync()},removeStorageSync:function(t){uni.removeStorageSync(t)},getImageInfo:function(t,e,a){t=r(t),uni.getImageInfo({src:t,success:function(t){e&&"function"==typeof e&&e(t)},fail:function(t){a&&"function"==typeof a&&a(t)}})},downloadFile:function(t,e){t=r(t),uni.downloadFile({url:t,success:function(t){e&&"function"==typeof e&&e(t)}})},downloadFile_PromiseFc:function(t){return new Promise((function(e,a){"http"!==t.substring(0,4)?e(t):(t=r(t),i("url:"+t),uni.downloadFile({url:t,success:function(t){t&&t.tempFilePath?e(t.tempFilePath):a("not find tempFilePath")},fail:function(t){a(t)}}))}))},saveFile:function(t){uni.saveFile({tempFilePath:t,success:function(t){i("保存成功:"+JSON.stringify(t))}})},downLoadAndSaveFile_PromiseFc:function(t){return new Promise((function(e,a){i("准备下载并保存图片:"+t),"http"===t.substring(0,4)?(t=r(t),uni.downloadFile({url:t,success:function(t){i("下载背景图成功："+JSON.stringify(t)),t&&t.tempFilePath?e(t.tempFilePath):a("not find tempFilePath")},fail:function(t){a(t)}})):e(t)}))},checkFile_PromiseFc:function(t){return new Promise((function(e,a){uni.getSavedFileList({success:function(a){var i=a.fileList,n=i.findIndex((function(e){return e.filePath===t}));e(n)},fail:function(t){a(t)}})}))},removeSavedFile:function(t){uni.getSavedFileList({success:function(e){var a=e.fileList,i=a.findIndex((function(e){return e.filePath===t}));i>=0&&uni.removeSavedFile({filePath:t})}})},fileNameInPath:function(t){var e=t.split("/");return e[e.length-1]},getImageInfo_PromiseFc:function(t){return new Promise((function(e,a){i("准备获取图片信息:"+t),t=r(t),uni.getImageInfo({src:t,success:function(t){i("获取图片信息成功:"+JSON.stringify(t)),e(t)},fail:function(t){i("获取图片信息失败:"+JSON.stringify(t)),a(t)}})}))},previewImage:function(t){"string"==typeof t&&(t=[t]),uni.previewImage({urls:t})},actionSheet:function(t,e){for(var a=[],i=0;i<t.array.length;i++)switch(t.array[i]){case"sinaweibo":a[i]="新浪微博";break;case"qq":a[i]="QQ";break;case"weixin":a[i]="微信";break;case"WXSceneSession":a[i]="微信好友";break;case"WXSenceTimeline":a[i]="微信朋友圈";break;case"WXSceneFavorite":a[i]="微信收藏";break;case 0:a[i]="图文链接";break;case 1:a[i]="纯文字";break;case 2:a[i]="纯图片";break;case 3:a[i]="音乐";break;case 4:a[i]="视频";break;case 5:a[i]="小程序";break;default:break}this.showActionSheet(a,e)},showActionSheet:function(t,e){uni.showActionSheet({itemList:t,success:function(t){e&&"function"==typeof e&&e(t.tapIndex)}})},getProvider:function(t,e,a){var i=this;uni.getProvider({service:t,success:function(n){if(a){var r={};r.array=n.provider,i.actionSheet(r,(function(t){e&&"function"==typeof e&&e(n.provider[t])}))}else if("payment"==t){for(var o=n.provider,s=[],l=0;l<o.length;l++)"wxpay"==o[l]?s[l]={name:"微信支付",value:o[l],img:"/static/image/wei.png"}:"alipay"==o[l]&&(s[l]={name:"支付宝支付",value:o[l],img:"/static/image/ali.png"});e&&"function"==typeof e&&e(s)}else e&&"function"==typeof e&&e(n)}})}};function r(t){return t}t.exports=n},ef1a:function(t,e,a){"use strict";var i=a("048e"),n=a.n(i);n.a}}]);